(this.webpackJsonpkuvashoes=this.webpackJsonpkuvashoes||[]).push([[0],{32:function(e,t,a){e.exports=a(51)},51:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),o=a.n(r),l=a(9),s=a(5),i=JSON.parse(localStorage.getItem("collectionsNames")),m={},u=JSON.parse(localStorage.getItem("img_obj"));if(u&&Object.keys(u)&&Object.keys(u).length>0)for(var d in u)m[d]=u[d];var p={name:localStorage.getItem("user_name")?localStorage.getItem("user_name"):"",phoneNumber:localStorage.getItem("user_phone")?localStorage.getItem("user_phone"):""},g=a(22),f=a(3),b=a(6),v=a(4),h=a.n(v),E=a(12),k=a(14),N=a(13),y=a(19),O=(a(44),a(46),a(52),function(e){return c.a.createElement("div",{className:"AlertoderedModelComponent"},c.a.createElement("img",{src:e.path,className:"confirmImg",alt:"KUVA"}),c.a.createElement("div",{className:"oderedModelTitel"},e.el),c.a.createElement("div",{className:"oderedModelSizesTable"},Object.keys(e.sizes).map((function(t){return c.a.createElement("div",{className:"oderedModelsizeControl",key:t,style:{color:0===e.sizes[t]?"pink":""}},c.a.createElement("p",{className:"oderedModelSize",style:{textDecoration:0!==e.sizes[t]?"none":""}},t),c.a.createElement("p",{className:"oderedModelSize",style:{textDecoration:0!==e.sizes[t]?"none":""}},e.sizes[t]))}))))});var j=Object(f.b)((function(e){return{bucket:e.bucket,alert:e.alert,order:e.oder}}))((function(e){var t=Object(n.useState)(0),a=Object(k.a)(t,2),r=a[0],o=a[1],s=e.sendMessage;Object(n.useEffect)((function(){function t(){return(t=Object(E.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((a=e.order.name).length>2)){t.next=5;break}return t.next=4,localStorage.setItem("user_name",a);case 4:console.log("".concat(a," whas added to localStorage"));case 5:if(!((n=e.order.phoneNumber)&&n.length>6)){t.next=10;break}return t.next=9,localStorage.setItem("user_phone",n);case 9:console.log("".concat(n," whas added"));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}1===r&&s(),1===r&&function(){t.apply(this,arguments)}(),o(0)}),[r]);var i=[];return e.bucket&&Object.keys(e.bucket)&&Object.keys(e.bucket).length&&Object.keys(e.bucket).length>0&&(i=Object.keys(e.bucket)),c.a.createElement("div",{className:e.alert},c.a.createElement("div",{className:"confirmBody"},c.a.createElement("h3",{style:{margin:"0px",textAlign:"center"}},"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0438 \u0435\u0441\u043b\u0438 \u0432\u0441\u0435 \u0432\u0435\u0440\u043d\u043e \u043d\u0430\u0436\u043c\u0438\u0442\u0435 '\u0417\u0410\u041a\u0410\u0417\u0410\u0422\u042c'"),i&&i.length&&i.length>0&&i.map((function(t){return c.a.createElement(O,Object(l.a)({path:e.bucket[t].imgPath,sendMessage:e.sendMessage,sizes:e.bucket[t].sizes,key:t,el:t},"key",t))})),c.a.createElement("div",{className:"confirmFooter"},c.a.createElement("div",{className:"confirmButton",onClick:function(){document.body.style.overflow="auto",e.dispatch({type:"change_alert",alert:"confirmClose"})}},"\u041d\u0430\u0437\u0430\u0434"),c.a.createElement("div",{className:"confirmButton",onClick:function(){o(1)}},"\u0417\u0410\u041a\u0410\u0417\u0410\u0422\u042c"))))})),w=function(e){var t=function(t){var a=Number(t.target.getAttribute("i"));if(a)return e.sizeMessage(e.imgName,a,Number(t.target.value))},a=function(){return Array(6).fill(0).map((function(e,t){return c.a.createElement("option",{key:t,value:t},t)}))};return c.a.createElement("div",{className:"formModelDiv"},c.a.createElement("div",{className:"formFildSet1"},c.a.createElement("h4",{style:{textAlign:"center"}},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u044b"),c.a.createElement("div",{className:"formOderedImgAndSizeSelects"},c.a.createElement("div",{className:"formOderTopContainer"},c.a.createElement("img",{className:"oderedmodelImg",alt:"KUVA",src:e.imgPath}),c.a.createElement("div",{className:"formDiv1"},c.a.createElement("div",{className:"sizeSelect"},c.a.createElement("p",null,"36"),c.a.createElement("select",{className:"select",onChange:t,i:36,value:e.sizes[36]},a())),c.a.createElement("div",{className:"sizeSelect"},c.a.createElement("p",null,"37"),c.a.createElement("select",{className:"select",value:e.sizes[37],onChange:t,i:37},a())),c.a.createElement("div",{className:"sizeSelect"},c.a.createElement("p",null,"38"),c.a.createElement("select",{className:"select",value:e.sizes[38],onChange:t,i:38},a())),c.a.createElement("div",{className:"sizeSelect"},c.a.createElement("p",null,"39"),c.a.createElement("select",{className:"select",value:e.sizes[39],onChange:t,i:39},a())),c.a.createElement("div",{className:"sizeSelect"},c.a.createElement("p",null,"40"),c.a.createElement("select",{className:"select",onChange:t,value:e.sizes[40],i:40},a())),c.a.createElement("div",{className:"sizeSelect"},c.a.createElement("p",null,"41"),c.a.createElement("select",{className:"select",value:e.sizes[41],onChange:t,i:41},a())))),c.a.createElement("div",{className:"oderedModelFooter"},c.a.createElement("li",{className:"oderedModelTitle"},c.a.createElement("p",null,e.imgName.replace("png",""))),c.a.createElement("li",{className:"oderedModelDel",onClick:function(){return e.delModel(e.imgName)}},c.a.createElement("p",null,"\u0423\u0414\u0410\u041b\u0418\u0422\u042c"))))))};var C=Object(f.b)((function(e){return{oder:e.oder,bucket:e.bucket}}))((function(e){var t,a,n=function(t,a,n){e.dispatch({type:"CHANGE_SIZE",name:t,size:a,i:n})},r=function(t){var a=e.bucket,n={};Object.keys(a).filter((function(e){return e!==t})).forEach((function(e){n[e]=a[e]})),e.dispatch({type:"del_model",newBucket:n})};return e.bucket&&Object.keys(e.bucket)&&(t=(a=Object.keys(e.bucket)).map((function(t){return c.a.createElement(w,{imgName:t,imgPath:e.bucket[t].imgPath,sizes:e.bucket[t].sizes,sizeMessage:n,key:t,delModel:r})}))),c.a.createElement("div",{className:"formDiv"},c.a.createElement("fieldset",{className:"formBody"},c.a.createElement("legend",null,"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"),c.a.createElement("label",null," \u0418\u043c\u044f \u0438 \u0424\u0430\u043c\u0438\u043b\u0438\u044f.",c.a.createElement("input",{type:"text",className:"input",value:e.oder.name,onChange:function(t){var a=t.target.value.split(" ").map((function(e){return e.slice(0,1).toUpperCase()+e.slice(1)})).join(" ");e.dispatch({type:"change_name",name:a})},placeholder:"NAME"})),c.a.createElement("label",null,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",c.a.createElement("input",{type:"number",className:"input",value:e.oder.phoneNumber,onChange:function(t){e.dispatch({type:"change_phone_number",phoneNumber:t.target.value})},placeholder:"Phone number"}))),a.length?t:c.a.createElement("h1",{style:{color:"pink",justifySelf:"center",textAlign:"center"}},"\u0412\u0410\u0428\u0410 \u041a\u041e\u0420\u0417\u0418\u041d\u0410 \u041f\u0423\u0421\u0422\u0410"),c.a.createElement("div",{className:"formFooter"},c.a.createElement("div",{onClick:function(){var t=e.oder.name,a=e.oder.phoneNumber;!t||t.length<=2?alert("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0412\u0430\u0448\u0435 \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044e"):!a||isNaN(a)||10!==a.toString().length?alert("\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0441\u0442\u0430 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"):e.dispatch({type:"change_alert",alert:"confirmOpen"}),t.length>2&&10===a.toString().length&&(document.body.style.overflow="hidden")},className:"formButton"},c.a.createElement("p",null,"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437")),c.a.createElement("div",{onClick:function(){e.history.goBack()},className:"formButton"},c.a.createElement("p",null,"\u041d\u0410\u0417\u0410\u0414"))))}));function S(){return c.a.createElement("div",{className:"header"},c.a.createElement("h2",{style:{justifySelf:"center"}},"KUVA"),c.a.createElement("p",null,"\u0421\u0430\u0439\u0442 \u0423\u043a\u0440\u0430i\u043d\u0441\u044c\u043a\u043e\u0433\u043e \u0432\u0438\u0440\u043e\u0431\u043d\u0438\u043a\u0430 \u0432\u0437\u0443\u0442\u0442\u044f ."))}function x(e){return c.a.createElement("div",{className:"navBarCloseWrapper",style:{left:1===e.classNumber?"0vw":"-150vw"},onClick:e.classTo1},c.a.createElement("div",{className:"navBarOpen"},c.a.createElement(b.c,{className:"navlink",activeClassName:"active",to:"../Home"},c.a.createElement("div",{className:"navBarLi"},"Home")),c.a.createElement(b.c,{className:"navlink",activeClassName:"active",to:"../New"},c.a.createElement("div",{className:"navBarLi"},"New")),c.a.createElement(b.c,{className:"navlink",activeClassName:"active",to:"./ChooseCollections"},c.a.createElement("div",{className:"navBarLi"},"\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438")),c.a.createElement(b.c,{className:"navlink",activeClassName:"active",to:"./HowToOrder"},c.a.createElement("div",{className:"navBarLi"},"\u041a\u0430\u043a \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c")),c.a.createElement(b.c,{className:"navlink",activeClassName:"active",to:"../FormComponent"},c.a.createElement("div",{className:"navBarLi"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"))))}function L(){return c.a.createElement("div",{className:"howToOrder",style:{padding:"10vh 5vw",width:"70vw",backgroundColor:"#e7e7e7",color:"#666",borderRadius:"10px",alignSelf:"center",justifySelf:"center",display:"flex",flexDirection:"column",justifyContent:"spaceArround",fontWeight:100}},c.a.createElement("p",{style:{textAlign:"center",alignSelf:"center"}},"O\u0431\u0443\u0432\u044c \u0423\u043a\u0440\u0430\u0438\u043d\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f  KUVA \u043e\u043f\u0442\u043e\u043c"),c.a.createElement("div",{style:{borderRadius:"50%",backgroundImage:"url('./\u0432\u0438\u0437\u043e\u043d \u0437\u0448,,,28,5$.png')",backgroundRepeat:"no-repeat",width:"15vw",height:"15vw",backgroundPosition:" center",backgroundColor:"white",backgroundSize:"cover",zIndex:1,alignSelf:"center"}}),c.a.createElement("p",{style:{textAlign:"center"}},"O\u0411\u0423\u0412\u042c  \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0434\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u043f\u0442\u043e\u043c."),c.a.createElement("li",null,"\u0417\u0430\u043a\u0430\u0437 \u043c\u043e\u0436\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u043f\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443 : 0503236672 "),c.a.createElement("li",null,"Viber    : 0503236672"),c.a.createElement("li",null,"Telegram : 0503236673"),c.a.createElement("li",null,"WhatsApp : 0503236672"),c.a.createElement("li",null,"    O\u0442\u043f\u0440\u0430\u0432\u0438\u0432 \u043f\u0438\u0441\u044c\u043c\u043e \u043d\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 kuva68@gmail.com"),c.a.createElement("li",null," \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0432 \u0444\u043e\u0440\u043c\u0443 \u0437\u0430\u043a\u0430\u0437\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435."))}var z=Object(f.b)((function(e){return{collectionsName:e.collectionsList}}))((function(e){var t=[];return t=e.collectionsName?e.collectionsName:["... \u0433\u0440\u0443\u0437\u0438\u043c\u0441\u044f"],c.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexWrap:"nowrap",marginTop:"5vh"}},t.map((function(e,t){return c.a.createElement(b.b,{to:"/ChooseCollections/:".concat(e),key:t+.6,style:{textDecoration:"none"}},c.a.createElement("div",{key:t+.6,className:"collectionNameDiv"},c.a.createElement("p",{className:"collectionNameFooter"}," ",e)))})))}));var _=Object(f.b)()((function(e){var t=Object(n.useState)("./kuvaLogo.png"),a=Object(k.a)(t,2),r=a[0],o=a[1],l=function(){o(e.option.url)},s=Object(n.useRef)(null);function i(){var t=s.current;t.getBoundingClientRect().top>-800&&t.getBoundingClientRect().top<1e3&&r!==e.option.url?l():r!==e.option.url&&window.addEventListener("scroll",(function(){t.getBoundingClientRect().top>-800&&t.getBoundingClientRect().top<2e3&&l()}))}Object(n.useEffect)((function(){window.navigator.onLine?i():window.addEventListener("online",(function(){return i()}))}),[]);var m=Date.now();return c.a.createElement("div",{className:"imgBody",ref:s},c.a.createElement("div",{className:"imgheader"},c.a.createElement("h3",{style:{color:"red"}},m-e.option.created<18144e5?" NEW ":"","   ","0"!==e.option.top?" TOP SALES ":"")),c.a.createElement("div",{className:"imgDiv"},c.a.createElement("img",{src:r,alt:"\u0432\u0437\u0443\u0442\u0442\u044f KUVA \u043e\u043f\u0442\u043e\u043c \u043e\u0431\u0443\u0432\u044c",className:"img"})),c.a.createElement("ul",{className:"imgFooter",onClick:function(){e.dispatch({type:"CALL_ODER_FORM",imgName:e.name,imgPath:e.option.url})}},c.a.createElement("p",{className:"imgN"},e.option.name.slice(0,-4)),c.a.createElement("p",{className:"imgN",style:{color:"white"}},"\u0412 \u041a\u041e\u0420\u0417\u0418\u041d\u0423")))})),I=Object(f.b)((function(e){return{imgList:e.imgList}}))((function(e){var t=[],a=e.match.params.id.slice(1);return t=e.imgList&&e.imgList[a]?e.imgList[a]:[{name:"\u043e\u0431\u0443\u0432\u044c KUVA \u0432\u0437\u0443\u0442\u0442\u044f",path:"./kuvaLogo.png",top:"0",created:0}],c.a.createElement("div",{className:"contentBody"},t.map((function(t,a){return c.a.createElement(_,{key:t.name+a,option:t,name:t.name,dispatch:e.dispatch})})))}));function A(){return c.a.createElement("div",{className:"body",titel:"\u041e\u0431\u0443\u0432\u044c \u043e\u043f\u0442\u043e\u043c \u0423\u043a\u0440\u0430\u0438\u043d\u0430 \u0442.\u043c. KUVA"},c.a.createElement(N.c,null,c.a.createElement(N.a,{exact:!0,path:"/ChooseCollections",component:z}),c.a.createElement(N.a,{path:"/ChooseCollections/:id",component:I})))}var B=a(27);function T(){var e,t=Object(f.c)((function(e){return e.collectionsList})),a=Object(f.c)((function(e){if(e.imgList)return e.imgList}));t&&t.length>0&&(e=t[0]);var n=[],r=[];return e&&a&&a[e]&&(r=a[e].filter((function(e){return Date.now()-e.created<18144e5})).sort((function(e,t){return t.created-e.created}))),n=e&&e.length>0&&a&&a[e]?a[e].sort((function(e,t){return parseInt(e)-parseInt(t)})):[{name:"\u041e\u0431\u0443\u0432\u044c KUVA \u0432\u0437\u0443\u0442\u0442\u044f",path:"./kuvaLogo.png",top:"0",created:0}],r&&r.length>0&&(n=[].concat(Object(B.a)(r),Object(B.a)(n))),c.a.createElement("div",{className:"contentBody",titel:"\u041e\u0431\u0443\u0432\u044c \u0423\u043a\u0440\u0430\u0438\u043d\u0430 \u043e\u043f\u0442\u043e\u043c \u0442\u043c. KUVA"},n.map((function(e,t){return c.a.createElement(_,{key:e.name+t,name:e.name,option:e})})))}var D=Object(f.b)((function(e){return{collectionsName:e.collectionsList,imgList:e.imgList}}))((function(e){var t,a,n=Date.now();return e.collectionsName&&e.collectionsName.length>0&&(t=e.collectionsName[0]),(a=t&&e.imgList&&e.imgList[t]?e.imgList[t].filter((function(e){return n-e.created<18144e5})):[{name:"\u041e\u0431\u0443\u0432\u044c KUVA \u0432\u0437\u0443\u0442\u0442\u044f",url:"./kuvaLogo.png",top:!1,created:0}]).sort((function(e,t){return t.created-e.created})),c.a.createElement("div",{className:"contentBody"}," ",a.map((function(t,a){return c.a.createElement(_,{key:t.name+a,name:t.name,option:t,dispatch:e.dispatch})})))}));function M(e){var t=0;return e.bucket&&Object.keys(e.bucket)&&Object.keys(e.bucket).length>0&&(t=Object.keys(e.bucket).length),c.a.createElement(b.c,{to:"/FormComponent",activeStyle:{display:"none"}},c.a.createElement("div",{className:"modelBucket"},c.a.createElement("p",{style:{textAlign:"center",margin:"5px"}},t),c.a.createElement("p",null,"_\ud83d\uded2")))}function R(e){return c.a.createElement("div",{className:"headerLink",onClick:e.toggleClass},c.a.createElement("p",{className:["headerLinkRight","headerLinkLeft"][e.namberOfClass]},">"))}y.initializeApp({apiKey:"AIzaSyBS9QGlpihzZ-zLz1I6xZngQQLdRkzHs7g",authDomain:"kuvashose.firebaseapp.com",databaseURL:"https://kuvashose.firebaseio.com",projectId:"kuvashose",storageBucket:"kuvashose.appspot.com",messagingSenderId:"891118479292",appId:"1:891118479292:web:634135080ec876bc",measurementId:"G-RTKYGRZVYK"});var U=y.firestore(),F=y.messaging();F.usePublicVapidKey("BJc_FqFXOGR_dfvDXglS98-Ya9X5ZBzhaUH7GD7tdXTZdGVNsPxcwdulNFW_TjMju4l3hCRSy4an_vUOkSQTsnc");var K=Object(f.b)((function(e){return{bucket:e.bucket,order:e.oder}}))((function(e){var t=Object(n.useState)(!1),a=Object(k.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){y.auth().signInAnonymously().catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){function t(){return(t=Object(E.a)(h.a.mark((function t(){var a,n,c,r,l,s,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(a=localStorage.getItem("messageToken"))||(a=""),n=/[^a-z,A-Z,\u0410-\u042f,\u0430-\u044f,\s]/gi,c=e.order.name.replace(n,0),r=e.order.phoneNumber,l=(new Date).toLocaleString(),s=Date.now(),i=e.bucket,t.next=11,U.collection("messages").doc(l).set({name:c,bucket:i,phone:r,token:a,date:s,status:0});case 11:e.dispatch({type:"clear_bucket"}),e.dispatch({type:"change_alert",alert:"confirmClose"}),document.body.style.overflow="auto",window.history.go(-1),o(!1),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),console.log(t.t0);case 21:case"end":return t.stop()}}),t,null,[[0,18]])})))).apply(this,arguments)}r&&function(){t.apply(this,arguments)}()}),[r]);var s=Object(n.useState)(0),i=Object(k.a)(s,2),m=i[0],u=i[1],d=function(){var e=m;u(e=1===e?0:1)};return Object(n.useEffect)((function(){function t(){return a.apply(this,arguments)}function a(){return(a=Object(E.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetchList start"),e.next=4,n();case 4:(t=e.sent)&&r(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function n(){return c.apply(this,arguments)}function c(){return(c=Object(E.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.collection("imgList").doc("imgList").get();case 3:return t=e.sent,a=t.data(),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function r(e){return o.apply(this,arguments)}function o(){return(o=Object(E.a)(h.a.mark((function t(a){var n,c,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log("implementFetching start",a),a&&Object.keys(a)&&(n=Object.keys(a).sort((function(e,t){return a[t][0].created-a[e][0].created})),e.dispatch({type:"img_obj",obj:a,arr:n}),c=JSON.stringify(a),r=JSON.stringify(n),localStorage.setItem("img_obj",c),localStorage.setItem("collectionsNames",r))}catch(o){console.log(o)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}console.log("getImgObj start"),window.navigator.onLine?(console.log("online"),t()):(console.log("offline"),window.addEventListener("online",t))}),[]),Object(n.useEffect)((function(){function e(){return(e=Object(E.a)(h.a.mark((function e(){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=localStorage.getItem("messageToken"))){e.next=5;break}return n=new Date,e.next=5,U.collection("tokens").doc("Token").update(Object(l.a)({},a,n));case 5:if(a){e.next=8;break}return e.next=8,t();case 8:F.onTokenRefresh((function(){return F.getToken().then((function(e){console.log("Token refreshed."),localStorage.setItem("messageToken",e),console.log("token in l.storage");var t=new Date;U.collection("tokens").doc("Token").update(Object(l.a)({},e,t)),console.log("token in db")})).catch((function(e){console.log("Unable to retrieve refreshed token ",e)}))}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return a.apply(this,arguments)}function a(){return(a=Object(E.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Notification.requestPermission();case 3:if("granted"!==e.sent){e.next=21;break}return console.log("Notification permission granted."),e.next=8,F.getToken();case 8:if((t=e.sent)&&null!==t||console.log("no token"),!t){e.next=20;break}return e.next=13,localStorage.setItem("messageToken",t);case 13:return console.log("token in l.storage"),a=new Date,e.next=17,U.collection("tokens").doc("Token").update(Object(l.a)({},t,a));case 17:console.log("token in db"),e.next=21;break;case 20:console.log("Unable to get permission to notify.");case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){document.body.style.overflow=1===m?"hidden":""}),[m]),c.a.createElement("div",{className:"main",title:"\u041a\u0443\u0432\u0430 \u0432\u0437\u0443\u0442\u0442\u044f \u043e\u043f\u0442\u043e\u043c Kuva"},c.a.createElement(R,{toggleClass:d,namberOfClass:m}),c.a.createElement(M,{bucket:e.bucket}),c.a.createElement(S,{toggleClass:d,namberOfClass:m,bucket:e.bucket}),c.a.createElement("div",{className:"siteBody"},c.a.createElement(N.a,{exact:!0,path:"/",component:T}),c.a.createElement(N.a,{path:"/home",component:T}),c.a.createElement(N.a,{path:"/new",component:D}),c.a.createElement(N.a,{path:"/FormComponent",component:C}),c.a.createElement(N.a,{path:"/ChooseCollections",component:A}),c.a.createElement(N.a,{path:"/howToOrder",component:L})),c.a.createElement(x,{classNumber:m,classTo1:function(){u(0)}}),c.a.createElement(j,{sendMessage:function(){o(!0)}}),c.a.createElement("div",{className:"footer"}))})),V=Object(g.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{oder:p,imgList:m,bucket:{},alert:"confirmClose",collectionsList:i||null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"change_alert":return Object(s.a)({},e,{alert:t.alert});case"CALL_ODER_FORM":var a=e.bucket,n=Object(s.a)({},a,Object(l.a)({},t.imgName,{imgPath:t.imgPath,sizes:{36:0,37:0,38:0,39:0,40:0,41:0}}));return Object(s.a)({},e,{bucket:n});case"clear_bucket":return Object(s.a)({},e,{bucket:{}});case"del_model":return Object(s.a)({},e,{bucket:t.newBucket});case"change_phone_number":var c=e.oder,r=Object(s.a)({},c,{phoneNumber:t.phoneNumber});return Object(s.a)({},e,{oder:r});case"CHANGE_SIZE":var o=e.bucket[t.name],u=o.sizes,d=Object(s.a)({},u,Object(l.a)({},t.size,t.i)),g=Object(s.a)({},o,{sizes:d}),f=e.bucket,b=Object(s.a)({},f,Object(l.a)({},t.name,g));return Object(s.a)({},e,{bucket:b});case"change_name":var v=e.oder,h=Object(s.a)({},v,{name:t.name});return Object(s.a)({},e,{oder:h});case"img_obj":return console.log(t.obj),Object(s.a)({},e,{imgList:t.obj,collectionsList:t.arr});default:return e}}));o.a.render(c.a.createElement(f.a,{store:V},c.a.createElement(b.a,null,c.a.createElement(K,null))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.531126d1.chunk.js.map